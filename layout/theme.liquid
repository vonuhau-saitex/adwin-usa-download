{% include 'shogun-content-handler' %}
<!doctype html>
{%- capture dir -%}
    {%- case request.locale.iso_code -%}
      {%- when 'ae' or 'ar' or 'arc' or 'bcc' or 'bqi' or 'ckb' or 'dv' or 'fa' or 'glk' or 'ha' or 'he' or 'kwh' or 'ks' or 'ku' or 'mzn' or 'nqo' or 'pnb' or 'ps' or 'sd' or 'ug' or 'ur' or 'yi' -%}
        rtl
      {%- else -%}
        ltr
    {%- endcase -%}
  {%- endcapture -%}
<html class="no-js" lang="{{ request.locale.iso_code }}" dir="{{ dir }}">
  <head>
	<!-- Added by AVADA SEO Suite -->
	{% include 'avada-seo' %}
	<!-- /Added by AVADA SEO Suite -->
    <meta name="google-site-verification" content="Eu2QQVCpxEY0rSALtqGRdlJGuyWVUX5PiyIn6Gmmxuc" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="theme-color" content="{{ settings.color_body_bg }}">
    <link rel="canonical" href="{{ canonical_url }}">
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>

    {% comment %}
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/1st-Slide_1920.png">
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/2nd-Slide_1920.png">
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/3rd-Slide_1920.png">
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/1st_Slide1_mobile.png">
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/Launch_Slide_mobile.png">
    <link rel="preload" as="image" href="//cdn.shopify.com/s/files/1/0267/5136/9271/files/3rd_Slide_mobile.png">
    {% endcomment %}
    
    {% render 'head-preload' %}

    {% if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif %}
    
    {% case template %}
      {% when 'cart' %}
        <title>Your Cart - Review and Complete Your Purchase at Edwin USA</title>
        <meta name="description" content="Shop effortlessly at Edwin USA's cart page. Discover a seamless checkout experience with a wide range of premium products tailored just for you.">
      {% when 'search' %}
        <title>Discover Your Perfect Products: Search Our Extensive Collection</title>
        <meta name="description" content="Explore our premium USA-made denim collection, featuring high-quality jeans and apparel. Enjoy free shipping on orders over $175. Shop now for style and comfort!">
      {% else %}        
        {% if request.path == '/blogs/magazine/tagged/denim' %}
          <title>Explore Denim Trends and Inspiring Stories on the EDWIN USA Blog</title>
          <meta name="description" content="Explore the Edwin USA blog for the latest in denim fashion, culture, and lifestyle. Discover trends, tips, and inspiring stories to elevate your style.">
        {% elsif request.path == '/blogs/magazine/tagged/vintage' %}
          <title>Explore Vintage Fashion Trends and Stories at EDWIN USA Blog</title>
          <meta name="description" content="Explore the Edwin USA blog for vintage fashion insights, cultural trends, and lifestyle tips. Discover inspiring stories that elevate your personal style and creativity.">
        {% elsif request.path == '/products/gift-cards' %}
          <title>Shop Edwin USA Gift Cards - Perfect for Any Occasion and Easy Gifting</title>
          <meta name="description" content="Give the gift of sustainable style with Edwin USA E-Gift Cards. Perfect for denim lovers, our cards make gifting easy and eco-friendly. Shop now!">          
          {% else %}
          <title>{{ page_title }}</title>
          {% if page_description %}
            <meta name="description" content="{{ page_description | escape }}">
          {% endif %}
        {% endif %}
    {% endcase %} 

    {%- unless settings.heading_font.system? and settings.body_font.system? -%}
      <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    {%- endunless -%}

    {% render 'social-meta-tags' %}

    {{ 'app.css' | asset_url | stylesheet_tag }}
    {{ 'collection-banner-edwin.css' | asset_url | stylesheet_tag }}
    {{ 'edwin-usa-custom.css' | asset_url | stylesheet_tag }}
    {{ 'edwin-prod-custom.css' | asset_url | stylesheet_tag }}

    {% render 'head-variables' %}

    <script>

      window.theme = window.theme || {};
      theme = {
        settings: {
          money_with_currency_format: {{- shop.money_format | json -}},
          cart_drawer: {{- settings.cart_drawer -}}
        },
        routes: {
          root_url: '{{ routes.root_url }}',
          cart_url: '{{ routes.cart_url }}',
          cart_add_url: '{{ routes.cart_add_url }}',
          search_url: '{{ routes.search_url }}',
          cart_change_url: '{{ routes.cart_change_url }}',
          cart_update_url: '{{ routes.cart_update_url }}',
          predictive_search_url: '{{ routes.predictive_search_url }}',
        },
        variantStrings: {
          addToCart: `{{ 'products.product.add_to_cart' | t }}`,
          soldOut: `{{ 'products.product.sold_out' | t }}`,
          unavailable: `{{ 'products.product.unavailable' | t }}`,
        },
        strings: {
          requiresTerms: `{{ 'sections.cart.terms_confirm' | t }}`,
        }
      };
    </script>
    {{ content_for_header }}
    <!-- Header hook for plugins -->

    <script>
      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    </script>

    {% render 'shogun-head' %}    

    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "myyid7mr1g");
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N7GKLRPS');</script>
    <!-- End Google Tag Manager -->
  </head>
  {% if template.name == 'collection' %}
    {% assign templateTame = collection.title | downcase | replace: ' ', '-' | remove: '&' %}
  {% else %}
    {% assign templateTame = template.name %}
  {% endif %}
  <body class="{{ template }} animations-{{ settings.animations }} button-uppercase-{{ settings.button_uppercase }} navigation-uppercase-{{ settings.navigation_uppercase }} {% if customer %} customer-logged-in{% endif %} template-{{ template | replace: '.', ' ' | truncatewords: 1, '' | handle }} template-{{ template | replace: '.', '-' | handle }} {% if customer.tags contains 'Legacy Member' %}customer-vip{% else %}customer-nonvip{% endif %}">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7GKLRPS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <a class="screen-reader-shortcut" href="#main-content">{{ 'accessibility.skip_to_text' | t }}</a>
    <div id="wrapper">
      {% sections 'header-group' %}
      <div role="main" id="page-{{ templateTame }}">
        {% if template contains 'static-privacy' or template contains 'return-policy' or template contains 'static-terms-codition' or template contains 'static-shipping' or template contains 'static-faqs' %}
          <div class="custom_layout">
            <div class="left_content">
              <ul>
                {% for link in settings.pagemenu.links %}
                  <li>
                    <a href="{{  link.url }}" class="{% if link.active %} active{% endif %}">{{ link.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
            <div class="middle_content">
              {{ content_for_layout }}
            </div>
          </div>
        {% else %}
          {{ content_for_layout }}
        {% endif %}
      </div>
      {% sections 'footer-group' %}
      {% render 'cart-drawer' %}
      {% render 'product-drawer' %}
      {% render 'search-drawer' %}
      <div class="click-capture"></div>
    </div>

    {{ 'vendor.min.js' | asset_url | script_tag }}
    {% if settings.animations %}
      {{ 'animations.min.js' | asset_url | script_tag }}
      <script>
        gsap.defaults({
          ease: Power4.easeOut,
        });
        gsap.config({
          nullTargetWarn: false,
        });
        gsap.registerPlugin(ScrollTrigger);
      </script>
    {% endif %}
    {% if settings.enable_quick_view %}
      {{ 'product.js' | asset_url | script_tag }}
    {% endif %}
    {{ 'slideshow.js' | asset_url | script_tag }}
    {{ 'app.js' | asset_url | script_tag }}
    <script type="module" src="{{ 'scroll-shadow.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'predictive-search.js' | asset_url }}" defer="defer"></script>
    {%- if request.design_mode -%}
      {{ 'theme-editor.js' | asset_url | script_tag }}
    {%- endif -%}
    {%- if settings.cart_recommendations -%}
      <script src="{{ 'product-recommendations.js' | asset_url }}" defer="defer"></script>
    {%- endif -%}
    {% render 'back-to-top' %}

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="//cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      const swiper = new Swiper('.swiper', {
        direction: 'horizontal',
        loop: false,
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
      });

      {% comment %} $('[data-color-element]').on('click', function (e) {
        var $this = $(this);
        var color_name = $this.attr('data-color');
        var color_image = $this.attr('data-image');
        $this.closest('.product-card').find('.color-swatch--rectangle').removeClass('active');
        $this.addClass("active");
        if ($this.hasClass('swatch-1')){
          $this.closest('.product-card').removeClass('disable-effect');
        } else {
          $this.closest('.product-card').addClass('disable-effect');
        }
        $this.closest('.product-card').find('.media_desktop img.product-primary-image').attr('src', color_image);
        $this.closest('.product-card').find('.media_desktop img.product-primary-image').attr('srcset', color_image);
        $this.closest('.product-card').find('.size-list-element').addClass('color-hide');
        $(color_name).removeClass('color-hide');
      });

      $('.select-size-close').click(function() {
        $('.select-size-popup').slideUp();
      });

      $('.select-size').on("click", function(event) {
        $('.select-size-popup').slideUp();
        $('.select-size-loading-overlay').removeClass('active');
        $(this).closest('.product-featured-image').find('.select-size-popup').slideDown();
      });

      $('[data-selectsize-pick]').on('click', function (event) {
        var $this = $(this);
        $this.closest('.product-card').find('.select-size-loading-overlay').addClass('active');
        var variantID = $this.attr('data-variant-id');
        var form = $this.closest('.select-size-popup').find('form');
        var formsubmit = $this.closest('.select-size-popup').find('form button');
        form.find('input[name=id]').val(variantID);
        setTimeout(function () {
          formsubmit.trigger('click');
        }, 1200);
      }); {% endcomment %}
    </script>

    <script>
    window.addEventListener('load', function() {
    var _learnq = window._learnq || [];
    function addedToCart() {
      fetch(`${window.location.origin}/cart.js`)
      .then(res => res.clone().json().then(data => {
        var cart = {
          total_price: data.total_price/100,
          $value: data.total_price/100,
          total_discount: data.total_discount,
          original_total_price: data.original_total_price/100,
          items: data.items
        }
        if (item !== 'undefined') {
          cart = Object.assign(cart, item)
        }
        if (klAjax) {
            _learnq.push(['track', 'Added to Cart', cart]);
            klAjax = false;
          }
      }))
    };
    (function (ns, fetch) {
      ns.fetch = function() {
        const response = fetch.apply(this, arguments);
        response.then(res => {
          if (`${window.location.origin}/cart/add.js`
          	.includes(res.url)) {
            	addedToCart()
          }
        });
        return response
      }
    }(window, window.fetch));
    var klAjax = true;
    var atcButtons = document.querySelectorAll("form[action*='/cart/add'] button[type='submit']");
    for (var i = 0; i < atcButtons.length; i++) {
        atcButtons[i].addEventListener("click", function() {
          if (klAjax) {
            _learnq.push(['track', 'Added to Cart', item]);
            klAjax = false;
          }
        })
    }
    });
    </script>

    <script async defer src="https://app.visitortracking.com/assets/js/tracer.js" > </script>
    <script>
      function init_tracer() {
       var tracer = new Tracer({
        websiteId : '516470be-c9fa-43b2-9b0c-51a9088e3e14',
        async : true,
        debug : false
       });
    }
    </script>

    {% render 'klaviyo-backinstock' %}
  </body>
  <!--
  Adding klaviyo's tracking event for add to cart event (used for abandoned cart automation flow)
  https://help.klaviyo.com/hc/en-us/articles/115001396711
  -->
  {% if product %}
    {% render 'klaviyo-add-to-cart-tracking-event' %}
  {% endif %}  
</html>
