{{- 'multicolumn.css' | asset_url | stylesheet_tag -}}
{%- liquid
  assign section_heading = section.settings.heading
  assign section_heading_left = section.settings.heading_left
  assign section_description = section.settings.description
  assign full_width = section.settings.full_width
  assign columns_desktop = section.settings.columns_desktop
  assign heading_size = section.settings.heading_size
  assign mobile_swipe = section.settings.mobile_swipe
  assign image_ratio = section.settings.image_ratio
  assign display_type = section.settings.display_type
  assign text_alignment = section.settings.text_alignment
  assign disable_top_spacing = section.settings.disable_top_spacing
  assign disable_bottom_spacing = section.settings.disable_bottom_spacing

  case columns_desktop
    when 2
      assign columns_desktop_class = 'medium-6'
    when 3
      assign columns_desktop_class = 'medium-4'
    when 4
      assign columns_desktop_class = 'medium-3'
    when 5
      assign columns_desktop_class = 'medium-1/5 large-1/5'
    when 6
      assign columns_desktop_class = 'medium-4 large-2'
  endcase
-%}
<div class="multicolumn text-{{ text_alignment }}{% if mobile_swipe and display_type == 'grid' %} swipe-on-mobile{% endif %} section-spacing{% if disable_top_spacing %} section-spacing--disable-top{% endif %}{% if disable_bottom_spacing %} section-spacing--disable-bottom{% endif %}">
  <div class="row{% if full_width %} full-width-row{% endif %}">
    <div class="small-12 columns">
      {% render 'section-header',
        section_heading: section_heading,
        section_description: section_description,
        section_heading_left: section_heading_left
      %}
      <div class="multicolumn__inner display-type--{{ display_type }}">
        <div class="row align-stretch no-padding {{ display_type }}">
          {%- for block in section.blocks -%}
            {% if block.type == "column" %}
            <div class="multicolumn__column left-area small-12 {{ columns_desktop_class }} columns {% if display_type == 'carousel' %}carousel__slide{% endif %} {{ block.settings.extra_class }} multi-custom">
              <div class="column__container">
                {% if block.settings.image != blank %}
                  {%- liquid
                    assign ratio = 1
                    assign max_width = block.settings.image.width | append: 'px'

                    if block.settings.retina
                      assign max_width = block.settings.image.width | divided_by: 2 | append: 'px'
                    endif
                    if image_ratio == 'adapt'
                      assign ratio = block.settings.image.aspect_ratio
                    endif
                    if block.settings.image_full_width
                      assign max_width = '100%'
                    endif
                  -%}
                  <figure class="multicolumn__image" style="width: {{ max_width }};">
                    <div
                      class="multicolumn__image--inner aspect-ratio aspect-ratio--{{ image_ratio }}"
                      style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
                    >
                      {%- render 'responsive-image',
                        image: block.settings.image,
                        sizes: '407x0,814x0',
                        retina: block.settings.retina
                      -%}
                    </div>
                  </figure>
                {% endif %}
                {% if block.settings.title != blank %}
                  <h4 class="{{ heading_size }}">{{ block.settings.title | newline_to_br }}</h4>
                {% endif %}
                {% if block.settings.text != blank %}
                  <div class="rte" {{ block.shopify_attributes }}>{{ block.settings.text }}</div>
                {% endif %}
                {% if block.settings.link_label != blank %}
                  <a class="text-button" href="{{ block.settings.link }}"
                    ><span>{{ block.settings.link_label }}</span></a
                  >
                {% endif %}
              </div>
              </div> 
              {% endif %}
            {%- endfor -%}
          <div class="multicolumn__column right-area small-12 {{ columns_desktop_class }} columns {% if display_type == 'carousel' %}carousel__slide{% endif %} {{ block.settings.extra_class }} multi-custom">
            {%- for block in section.blocks -%}
              {% if block.type == "column-icon" %}
                  <div class="column-icon__container">
                     {% if block.settings.title != blank %}
                      <h4 class="{{ heading_size }}">{{ block.settings.title | newline_to_br }}</h4>
                      {% endif %}
                     {% if block.settings.image != blank %}
                          <img src="{{ block.settings.image | image_url }}" alt="image" width="auto" height= 'auto'/>
                      {% endif %}
                  </div>
              {% endif %}                       
              {% if block.type == "column-text" %}
                  <div class="column-text__container">
                     {% if block.settings.title != blank %}
                      <h4 class="{{ heading_size }}">{{ block.settings.title | newline_to_br }}</h4>
                      {% endif %}
                <div class="group">
                   {% if block.settings.text-1 != blank %}
                     <div>
                         <span class="heading-text">1</span>
                         <p>{{ block.settings.text-1 }}</p>
                     </div>                     
                      {% endif %}
                   {% if block.settings.text-2 != blank %}
                     <div>
                         <span class="heading-text">2</span>
                         <p>{{ block.settings.text-2 }}</p>
                     </div>                     
                      {% endif %}
                   {% if block.settings.text-3 != blank %}
                     <div>
                         <span class="heading-text">3</span>
                         <p>{{ block.settings.text-3 }}</p>
                     </div>                     
                      {% endif %}
                   {% if block.settings.text-4 != blank %}
                     <div>
                         <span class="heading-text">4</span>
                         <p>{{ block.settings.text-4 }}</p>
                     </div>                     
                      {% endif %}
                {% if block.settings.link_label != blank %}
                  <a class="button download-button" href="{{ block.settings.link }}"
                    ><span>{{ block.settings.link_label }}</span></a>
                {% endif %}
                </div>
                    
                  </div>
              {% endif %}                       
              {% if block.type == "column-title-text" %}
                  <div class="column-title-text__container">
                     {% if block.settings.title-1 != blank %}
                        <h4 class="{{ heading_size }}">{{ block.settings.title-1 | newline_to_br }}</h4>
                      {% endif %}
                      {% if block.settings.text-1 != blank %}
                        <p class="text-content">{{ block.settings.text-1 }}</p>
                      {% endif %}
                      {% if block.settings.title-2 != blank %}
                        <h4 class="{{ heading_size }}">{{ block.settings.title-2 | newline_to_br }}</h4>
                      {% endif %}
                {% if block.settings.text-2 != blank %}
                        <p class="text-content">{{ block.settings.text-2 }}</p>
                      {% endif %}
                      {% if block.settings.title-3 != blank %}
                        <h4 class="{{ heading_size }}">{{ block.settings.title-3 | newline_to_br }}</h4>
                      {% endif %}
                {% if block.settings.text-3 != blank %}
                        <p class="text-content">{{ block.settings.text-3 }}</p>
                      {% endif %}
                  </div>
              {% endif %}                       
          {%- endfor -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Multicolumn Custom",
"class": "section-multicolumn-cutom-static",
  "settings": [
	 
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Add a short description for this section</p>"
    },
	{
		"type": "checkbox",
		"id": "full_width",
		"label": "Make section full width",
		"default": true
	},
	{
		"type": "select",
		"id": "display_type",
		"options": [
			{
				"value": "grid",
				"label": "Grid"
			},
			{
				"value": "carousel",
				"label": "Carousel"
			}
		],
		"default": "grid",
		"label": "Display type"
	},
	{
     "type": "select",
     "id": "image_ratio",
     "options": [
       {
         "value": "adapt",
         "label": "Adapt to image"
       },
       {
         "value": "portrait",
         "label": "Portrait"
       },
       {
         "value": "square",
         "label": "Square"
       },
       {
         "value": "circle",
         "label": "Circle"
       }
     ],
     "default": "adapt",
     "label": "Image ratio"
   },
	{
     "type": "range",
     "id": "columns_desktop",
     "min": 2,
     "max": 6,
     "step": 1,
     "default": 2,
     "label": "Number of columns on desktop"
   },
	{
     "type": "select",
     "id": "text_alignment",
     "options": [
       {
         "value": "left",
         "label": "Left"
       },
       {
         "value": "center",
         "label": "Center"
       },
       {
         "value": "right",
         "label": "Right"
       }
     ],
     "default": "left",
     "label": "Content alignment"
   },
	{
		"type": "select",
		"id": "heading_size",
		"label": "Content heading size",
		"options": [
			{
				"value": "h3",
				"label": "Extra Large"
			},
			{
				"value": "h4",
				"label": "Large"
			},
			{
				"value": "h5",
				"label": "Medium"
			},
			{
				"value": "h6",
				"label": "Small"
			}
		],
		"default": "h5"
	},
	{
     "type": "header",
     "content": "Spacing"
   },
	{
		"type": "checkbox",
		"id": "disable_top_spacing",
		"default": false,
		"label": "Remove top spacing"
	},
	{
		"type": "checkbox",
		"id": "disable_bottom_spacing",
		"default": false,
		"label": "Remove bottom spacing"
	}
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Column",
      "settings": [
			{
				"type": "image_picker",
				"id": "image",
				"label": "Image",
				"info": "770 x 770 .jpg recommended."
			},
			{
				"type": "checkbox",
				"id": "image_full_width",
				"label": "Fit image to column",
				"default": false
			},
			{
          "type": "checkbox",
          "id": "retina",
          "label": "Enable retina",
          "default": true,
          "info": "Image will be displayed at half the size, making it look crisp on retina screens."
        },
			{
				"type": "text",
				"id": "title",
				"default": "Column",
				"label": "Heading"
			},
			{
				"type": "richtext",
				"id": "text",
				"default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
				"label": "Description"
			},
       {
         "type": "text",
         "id": "link_label",
         "label": "Link label"
       },
        {
         "type": "text",
         "id": "extra_class",
         "label": "Extra Class"
       },
       {
         "type": "url",
         "id": "link",
         "label": "Link"
       }
      ]
    },
    {
      "type": "column-icon",
      "name": "Column List Icon",
      "settings": [
			{
				"type": "image_picker",
				"id": "image",
				"label": "Image",
				"info": "770 x 770 .jpg recommended."
			},
			{
				"type": "text",
				"id": "title",
				"default": "Column",
				"label": "Heading"
			}
      ]
    },
    {
      "type": "column-text",
      "name": "Column List Text",
      "settings": [			
			{
				"type": "text",
				"id": "title",
				"default": "Column",
				"label": "Heading"
			},
        {
				"type": "text",
				"id": "text-1",
				"label": "Text 1"
			},
        {
				"type": "text",
				"id": "text-2",
				"label": "Text 2"
			
			},
        {
				"type": "text",
				"id": "text-3",
				"label": "Text 3"
			
			},
        {
				"type": "text",
				"id": "text-4",
				"label": "Text 4"
			},
        {
         "type": "text",
         "id": "link_label",
         "label": "Link label"
       },
       {
         "type": "url",
         "id": "link",
         "label": "Link"
       }
      ]
    },
    {
      "type": "column-title-text",
      "name": "Column Title Text",
      "settings": [			
			{
				"type": "text",
				"id": "title-1",
				"label": "Heading 1"
			},
        {
				"type": "text",
				"id": "text-1",
				"label": "Text 1"
			},
        {
				"type": "text",
				"id": "title-2",
				"label": "Heading 2"
			},
        {
				"type": "text",
				"id": "text-2",
				"label": "Text 2"
			
			},
        {
				"type": "text",
				"id": "title-3",
				"label": "Heading 3"
			},
        {
				"type": "text",
				"id": "text-3",
				"label": "Text 3"
			
			}
        
      ]
    }
  ],
  "presets": [
    {
      "name": "Multicolumn Custom",
		"blocks": [
       {
         "type": "column"
       },
       {
         "type": "column-icon"
       },
        {
         "type": "column-text"
       },
        {
         "type": "column-title-text"
       }
     ]
    }
  ]
}
{% endschema %}
