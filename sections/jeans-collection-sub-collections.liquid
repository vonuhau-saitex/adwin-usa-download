{{- 'jeans-collection-sub-collections.css' | asset_url | stylesheet_tag -}}

{%- liquid
    assign section_heading = section.settings.heading
    assign full_width = section.settings.full_width
    assign disable_top_spacing = section.settings.disable_top_spacing
    assign disable_bottom_spacing = section.settings.disable_bottom_spacing -%}

<div class="jeans-collection__sub-collections section-spacing{% if disable_top_spacing %} section-spacing--disable-top{% endif %}{% if disable_bottom_spacing %} section-spacing--disable-bottom{% endif %}">
    <div class="row{% if full_width %} full-width-row{% endif %}">
        <div class="small-12 columns">
            {% render 'section-header', section_heading: section_heading %}
            <div class="jeans-collection__sub-collections-container">
                {% for sub_collection in collection.metafields.custom.sub_collections.value %}
                    {% render 'jeans-collection-sub-collection-info', sub_collection: sub_collection %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    function move_to_subcollection_container(subcollection_id) {
        document.getElementById(`sub-collection-${subcollection_id}`).scrollIntoView();
    }
</script>

{% schema %}
{
  "name": "Jeans-col Sub-collections",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Jeans Collection - Sub-Collections"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Make section full width",
      "default": true
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "checkbox",
      "id": "disable_top_spacing",
      "default": false,
      "label": "Remove top spacing"
    },
    {
      "type": "checkbox",
      "id": "disable_bottom_spacing",
      "default": false,
      "label": "Remove bottom spacing"
    }
  ],
  "presets": [
    {
      "name": "Jeans Collection - Sub-Collections",
      "category": "EDWIN CUSTOMIZATION"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
